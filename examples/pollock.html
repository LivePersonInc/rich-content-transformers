<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>pollock</title>
    <script src="./json-pollock.bundle.min.js"></script>
</head>
<body>
<div id="container"></div>
<br>
<div id="container2"></div>
<script>
    JsonPollock.init({
        maxAllowedElements: 50    // max DOM elements that will be rendere, dother elements will be ignored, default is 50.
    });
    const card = {
        "type": "vertical",
        "tag": "card",
        "tagVersion": "1.0",
        "elements": [
            {
                "type": "image",
                "url": "https://cdn.macrumors.com/article-new/2017/09/iphonexfrontback-800x573.jpg",
                "tooltip": "image tooltip",
                "click": {
                    "actions": [
                        {
                            "type": "link",
                            "name": "Buy",
                            "uri": "https://search.com"
                        }
                    ]
                }
            },
            {
                "type": "text",
                "text": "product name (Title)",
                "tooltip": "text tooltip",
                "style": {
                    "bold": true,
                    "size": "large"
                }
            },
            {
                "type": "text",
                "text": "product name (Title)",
                "tooltip": "text tooltip"
            },
            {
                "type": "button",
                "tooltip": "button tooltip",
                "title": "Add to cart",
                "click": {
                    "actions": [
                        {
                            "type": "link",
                            "name": "Add to cart",
                            "uri": "https://example.com"
                        }
                    ]
                }
            },
            {
                "type": "button",
                "tooltip": "button tooltip",
                "title": "Publish text",
                "click": {
                    "actions": [
                        {
                            "type": "publishText",
                            "text": "my text"
                        }
                    ]
                }
            },
            {
                "type": "button",
                "tooltip": "button tooltip",
                "title": "Navigate",
                "click": {
                    "actions": [
                        {
                            "type": "publishText",
                            "text": "my text"
                        },
                        {
                            "type": "navigate",
                            "name": "Navigate to store via image",
                            "lo": 23423423,
                            "la": 2423423423
                        }
                    ]
                }
            }
        ]
    };

    const list = {
        "type": "vertical",
        "tag": "list",
        "tagVersion": "1.0",
        "elements": [ // Sections
            {
                "type": "vertical", // Section
                "elements": [
                    {
                        "type": "text", //Section title
                        "text": "iPhones",
                        "tooltip": "text tooltip",
                        "style": {
                            "bold": true,
                            "size": "large"
                        }
                    },
                    {
                        "type": "horizontal", // Item
                        "elements": [
                            {
                                "type": "image",
                                "url": "https://cdn.macrumors.com/article-new/2017/09/iphonexfrontback-800x573.jpg",
                                "tooltip": "iPhone X"
                            },
                            {
                                "type": "vertical",
                                "elements": [
                                    {
                                        "type": "text",
                                        "tag": "title",
                                        "text": "iPhone X",
                                        "tooltip": "Title",
                                        "style": {
                                            "bold": true,
                                            "size": "large"
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "tag": "subtitle",
                                        "text": "Black",
                                        "tooltip": "Black"
                                    },
                                    {
                                        "type": "button",
                                        "tooltip": "Add to cart",
                                        "title": "Add to cart",
                                        "click": {
                                            "actions": [
                                                {
                                                    "type": "publishText",
                                                    "text": "iPhone X Added"
                                                }
                                            ],
                                            "metadata": [{ // Item Identifier [optional]
                                                "type": "ExternalId",
                                                "id": "iPhone X"
                                            }]
                                        }
                                    }
                                ]
                            },
                        ]
                    },
                    {
                        "type": "horizontal", // Item
                        "elements": [
                            {
                                "type": "image",
                                "url": "https://store.storeimages.cdn-apple.com/4974/as-images.apple.com/is/image/AppleInc/aos/published/images/i/ph/iphone8/gold/iphone8-gold-select-2017?wid=470&hei=556&fmt=jpeg&qlt=95&op_sharpen=0&resMode=bicub&op_usm=0.5,0.5,0,0&iccEmbed=0&layer=comp&.v=1504041012369",
                                "tooltip": "iPhone 8"
                            },
                            {
                                "type": "vertical",
                                "elements": [
                                    {
                                        "type": "text",
                                        "tag": "title",
                                        "text": "iPhone 8",
                                        "tooltip": "iPhone 8",
                                        "style": {
                                            "bold": true,
                                            "size": "large"
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "tag": "subtitle",
                                        "text": "Rose Gold",
                                        "tooltip": "Rose Gold"
                                    },
                                    {
                                        "type": "button",
                                        "tooltip": "Add to cart",
                                        "title": "Add to cart",
                                        "click": {
                                            "actions": [
                                                {
                                                    "type": "publishText",
                                                    "text": "iPhone 8 Added"
                                                }
                                            ],
                                            "metadata": [{ // Item Identifier [optional]
                                                "type": "ExternalId",
                                                "id": "iPhone 8"
                                            }]
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ],
            },
            {
                "type": "vertical", // Section
                "elements": [
                    {
                        "type": "text", // Section title
                        "text": "iPads",
                        "tooltip": "iPads",
                        "style": {
                            "bold": true,
                            "size": "large"
                        }
                    },
                    {
                        "type": "horizontal", // Item
                        "elements": [
                            {
                                "type": "image",
                                "url": "https://brain-images-ssl.cdn.dixons.com/0/4/10165840/u_10165840.jpg",
                                "tooltip": "iPad Pro"
                            },
                            {
                                "type": "vertical",
                                "elements": [
                                    {
                                        "type": "text",
                                        "tag": "title",
                                        "text": "iPad Pro",
                                        "tooltip": "iPad Pro",
                                        "style": {
                                            "bold": true,
                                            "size": "large"
                                        }
                                    },
                                    {
                                        "type": "text",
                                        "tag": "subtitle",
                                        "text": "Space Grey",
                                        "tooltip": "Space Grey"
                                    },
                                    {
                                        "type": "button",
                                        "tooltip": "Add to cart",
                                        "title": "Add to cart",
                                        "click": {
                                            "actions": [
                                                {
                                                    "type": "publishText",
                                                    "text": "iPad Pro Added"
                                                }
                                            ],
                                            "metadata": [{ // Item Identifier [optional]
                                                "type": "ExternalId",
                                                "id": "iPad Pro"
                                            }]
                                        }
                                    }
                                ]
                            }
                        ]
                    }
                ],
            }
        ]
    };
    const rooEl = JsonPollock.render(card);
    document.getElementById('container').appendChild(rooEl);

    document.getElementById('container2').appendChild(JsonPollock.render(list));
    const linkCallback = (data) => {
        //data => {actionData: <action configuration>, metadata: <metadata configuration, if given>}
        window.open(data.actionData.uri, "_blank")
    };
    JsonPollock.registerAction('link', linkCallback);

</script>

</body>
</html>
